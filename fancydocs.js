registerMixin({"title":"backbone-async-event","summary":"Give your [backbone.js](http://backbonejs.org/) models and collections events to monitor ajax activity.\n\n***Problem:*** There is no way to tell if a model or collection is currently performing an ajax operation.  And, depending on the operation, there is no way to tell when that operation has been completed.\n\n***Solution:*** Trigger an event on the model or collection to indicate that ajax activity has begun.  Provide as a parameter to this event a Backbone.Events object so that the lifecycle of that specific ajax request can be monitored.\n\nAny time ajax requests are made using Backbone.sync (all of the backbone ajax requests are), a ```sync``` event and a scoped ```sync:{event name}``` event will be triggered on the model that initiated the ajax requests.","api":{"Events":{"methods":{},"packages":{"Model / Collection Events":{"overview":"","methods":{"async":{"profiles":["eventName, lifecycleEvents, options"],"params":{"eventName":"the Backbone sync event name (```read```, ```update``` or ```delete```)","lifecycleEvents":"a Backbone.Events object used to bind to specific request ```success```, ```error``` and ```complete``` events","options":"the fetch/save/destroy options"},"summary":"The follwing events may be used with ```lifecycleEvents```","dependsOn":[],"overview":"* success(model, options): triggered when/if the ajax request was successful\n* error(model, errorType, thrownError, options): triggered when/if the ajax request failed\n* complete({\"error\"|\"success\"}, model[, errorType, thrownError], options); triggered on either success or error\n\n```\nmodel.on('async', function(eventName, lifecycleEvents) {\n  lifecycleEvents.on('success', function(model, options) {\n    // the operation was successful and the updated model is provided as a parameter\n  });\n  lifecycleEvents.on('error', function(model, errorType, error, options) {\n    // the operation failed and the parameters are proxied straight from the $.ajax error call\n  });\n  lifecycleEvents.on('complete', function(type, model) {\n    // the operation was successful or errored and the payload will either look like a success or error payload\n    // type is either \"success\" or \"error\"\n  });\n});\n```"},"async:{eventName}":{"profiles":["lifecycleEvents, options"],"params":{"eventName":"the Backbone sync event name (```read```, ```update``` or ```delete```)","lifecycleEvents":"a Backbone.Events object used to bind to specific request ```success```, ```error``` and ```complete``` events","options":"the fetch/save/destroy options"},"summary":"Same as ```async``` but is only triggered for the specified event name","dependsOn":[],"overview":"```\nmodel.on('async:read', function(lifecycleEvents) {\n  // notice that the event name is not provided to this function\n});\n```"}}}}},"API":{"methods":{},"packages":{"Model / Collection API":{"overview":"","methods":{"isLoading":{"profiles":["()"],"params":{},"summary":"return a truthy (array of async events) if the Model/Collection has any current async activity","dependsOn":[],"overview":""},"hasBeenFetched":{"profiles":["()"],"params":{},"summary":"return true if the Model/Collection has previously been fetched (and the fetch response occured)","dependsOn":[],"overview":""},"hadFetchError":{"profiles":["()"],"params":{},"summary":"return true if the Model/Collection has a fetch error and no successful fetch after","dependsOn":[],"overview":""}}}}}},"sections":[{"body":"The async event name can be overridden by setting the ```event``` attribute on the request options but otherwise it will be:\n * fetch: ```read```\n * save: ```update```\n * destroy: ```delete```\n\nTo override the event name, use the ```event``` fetch option.\n```\nmodel.fetch({event: 'foo'})\n```\nor call Backbone.sync directly\n```\nBackbone.sync(asyncEventName, model, options);\n```","title":"Event Names","sections":[]},{"body":"Aside from async events being triggered on the model, a global event handler can be used to capture all async events for all models.  The event signature is the same for the model async events except that the first parameter is the model that the async event is associated with.\n```\nBackbone.asyncHandler = myGlobalAsyncHandler;\n// capture all async events for all models\nmyGlobalAsyncHandler.on('async', function(asyncEventName, model, lifecycleEvents, options) {\n  ...\n});\n// capture only \"read\" async events for all models\nmyGlobalAsyncHandler.on('async:read', function(model, lifecycleEvents, options) {\n  ...\n});\n```\n\nAlternatively, ```Backbone.async``` is already available and will fire all events that a global event handler would.\n```\nBackbone.async.on('async:read', function(model, lifecycleEvents, options) {\n  ...\n});\n```","title":"Global Event Handler","sections":[]},{"body":"To incercept the ajax request and override the response (for example to incorporate a client response cache), the ```intercept``` attribute can be set on the sync options data with a function which is expected to either call options.success or options.error with a simulated response.\n```\nApp.on('async', function(event, model, lifecycle, options) {\n  options.intercept = function() {\n    options.success(...);\n  }\n});\n```","title":"Ajax Response Interception","sections":[]}]});
